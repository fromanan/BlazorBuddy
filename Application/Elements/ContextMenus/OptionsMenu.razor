<ContextMenu Id="@ContextMenuId.OPTIONS">
    @* TODO: Disable for Type=Previous *@
    <Item OnClick="@OnRenameSession">
        Rename
    </Item>
    @* TODO: Disable for Type=Previous *@
    <Item OnClick="@OnDuplicateSession">
        Duplicate
    </Item>
    <Item OnClick="@OnDeleteSession">
        Delete
    </Item>
    <Separator/>
    <Item OnClick="@OnSortByTitle">
        Sort by title
    </Item>
    <Item OnClick="@OnSortByUrl">
        Sort by URL
    </Item>
    <Item OnClick="@OnUnifyWindows">
        Unify windows
    </Item>
    @* TODO: Disable for Type=Previous *@
    <Item OnClick="@OnOverwriteSession">
        Overwrite with current
    </Item>
</ContextMenu>

@code
{
    #region Event Handlers

    private async Task OnRenameSession(ItemClickEventArgs args)
    {
        if (await DialogService.ShowDialogAsync(DialogId.Rename))
        {
            SessionService.RenameSession(-1, string.Empty);
        }
    }

    private void OnDuplicateSession(ItemClickEventArgs args)
    {
        SessionService.DuplicateSession(-1, string.Empty);
    }

    private void OnDeleteSession(ItemClickEventArgs args)
    {
        SessionService.DeleteSession(-1);
    }
    
    private void OnSortByTitle(ItemClickEventArgs args)
    {
        LayoutService.ChangeSortOrder(SortOrder.Title);
    }
    
    private void OnSortByUrl(ItemClickEventArgs args)
    {
        LayoutService.ChangeSortOrder(SortOrder.Url);
    }

    private void OnUnifyWindows(ItemClickEventArgs args)
    {
        SessionService.UnifyWindows(-1);
    }

    private void OnOverwriteSession(ItemClickEventArgs args)
    {
        SessionService.OverwriteSession(-1);
    }

    #endregion
}